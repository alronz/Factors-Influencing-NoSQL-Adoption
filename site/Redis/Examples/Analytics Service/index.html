<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Analytics Service - NoSQL Selection Factors</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">NoSQL Selection Factors</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cassandra <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Cassandra/Cassandra_Main/">Cassandra Main</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Adminstration</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Adminstration/admin_main/">Admin main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/availability/">Availability</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/backup/">Backup</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/configurations/">Configurations</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/data migration/">Data migration</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/persistance/">Persistance</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/scalability/">Scalability</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/security/">Security</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Adminstration/upgrade/">Upgrade</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Basic Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Basic Features/Pipline support/">Pipline support</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Basic Features/basic_features_main/">Basic features main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Basic Features/commands/">Commands</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Basic Features/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Basic Features/transaction_support/">Transaction support</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Modeling</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Data Modeling/data_layout/">Data layout</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Data Modeling/data_modeling_main/">Data modeling main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Data Modeling/nested_structures/">Nested structures</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Data Modeling/normalisation/">Normalisation</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Data Modeling/referential_integerity/">Referential integerity</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Data Modeling/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Data Modeling/relational_data/">Relational data</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Examples/example_main/">Example main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Examples/references/">References</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Examples/tpch/">Tpch</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Getting Started</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Getting Started/getting_started_main/">Getting started main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Getting Started/installation/">Installation</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Getting Started/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Getting Started/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Getting Started/underline_data_structures/">Underline data structures</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Getting Started/when_to_use/">When to use</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Results</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Results/benifits_limitations/">Benifits limitations</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Results/reference/">Reference</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Results/results_main/">Results main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Results/summary/">Summary</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Search Data</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Search Data/filtering and grouping/">Filtering and grouping</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/fulltext/">Fulltext</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/">Home</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/query/">Query</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/queryOptions/">queryOptions</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/regx/">Regx</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/search_data_main/">Search data main</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Search Data/sort/">Sort</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Special Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Cassandra/Special Features/graphgist/">Graphgist</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Special Features/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Cassandra/Special Features/special_features_main/">Special features main</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">MongoDB <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../MongoDB/Mongo_Main/">Mongo Main</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Adminstration</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Adminstration/admin_main/">Admin main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/availability/">Availability</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/backup/">Backup</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/configurations/">Configurations</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/data migration/">Data migration</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/handling_failure/">Handling failure</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/persistance/">Persistance</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/scalability/">Scalability</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/security/">Security</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Adminstration/upgrade/">Upgrade</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Basic Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Basic Features/Pipline support/">Pipline support</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Basic Features/basic_features_main/">Basic features main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Basic Features/commands/">Commands</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Basic Features/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Basic Features/transaction_support/">Transaction support</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Modeling</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Data Modeling/data_layout/">Data layout</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Data Modeling/data_modeling_main/">Data modeling main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Data Modeling/nested_structures/">Nested structures</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Data Modeling/normalisation/">Normalisation</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Data Modeling/referential_integerity/">Referential integerity</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Data Modeling/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Data Modeling/relational_data/">Relational data</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Examples/denormalised_model/">Denormalised model</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Examples/example_main/">Example main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Examples/mixed_model/">Mixed model</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Examples/normalized_model/">Normalized model</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Examples/references/">References</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Examples/tpch/">Tpch</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Getting Started</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Getting Started/getting_started_main/">Getting started main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Getting Started/installation/">Installation</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Getting Started/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Getting Started/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Getting Started/underline_data_structures/">Underline data structures</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Getting Started/when_to_use/">When to use</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Results</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Results/results_main/">Results main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Results/strenghts_weaknesses/">Strenghts weaknesses</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Results/summary/">Summary</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Search Data</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Search Data/filtering and grouping/">Filtering and grouping</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/fulltext/">Fulltext</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/">Home</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/query/">Query</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/queryOptions/">queryOptions</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/regx/">Regx</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/search_data_main/">Search data main</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Search Data/sort/">Sort</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Special Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../MongoDB/Special Features/documentValidation/">documentValidation</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Special Features/gridFS/">gridFS</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Special Features/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../MongoDB/Special Features/special_features_main/">Special features main</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Neo4j <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Neo4j/Neo4j_Main/">Neo4j Main</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Adminstration</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Adminstration/admin_main/">Admin main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/availability/">Availability</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/backup/">Backup</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/configurations/">Configurations</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/data migration/">Data migration</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/persistance/">Persistance</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/scalability/">Scalability</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/security/">Security</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Adminstration/upgrade/">Upgrade</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Basic Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Basic Features/Pipline support/">Pipline support</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Basic Features/basic_features_main/">Basic features main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Basic Features/commands/">Commands</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Basic Features/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Basic Features/transaction_support/">Transaction support</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Modeling</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Data Modeling/data_layout/">Data layout</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Data Modeling/data_modeling_main/">Data modeling main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Data Modeling/nested_structures/">Nested structures</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Data Modeling/normalisation/">Normalisation</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Data Modeling/referential_integerity/">Referential integerity</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Data Modeling/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Data Modeling/relational_data/">Relational data</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Examples/example_main/">Example main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Examples/references/">References</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Examples/tpch/">Tpch</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Getting Started</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Getting Started/getting_started_main/">Getting started main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Getting Started/installation/">Installation</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Getting Started/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Getting Started/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Getting Started/underline_data_structures/">Underline data structures</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Getting Started/when_to_use/">When to use</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Results</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Results/results_main/">Results main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Results/strengths_weakness/">Strengths weakness</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Results/summary/">Summary</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Search Data</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Search Data/filtering and grouping/">Filtering and grouping</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/fulltext/">Fulltext</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/">Home</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/query/">Query</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/queryOptions/">queryOptions</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/regx/">Regx</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/search_data_main/">Search data main</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Search Data/sort/">Sort</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Special Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Neo4j/Special Features/graphgist/">Graphgist</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Special Features/refernces/">Refernces</a>
</li>

        
            
<li >
    <a href="../../../Neo4j/Special Features/special_features_main/">Special features main</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Redis <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Administration and Maintenance</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Administration and Maintenance/Availability/">Availability</a>
</li>

        
            
<li >
    <a href="../../Administration and Maintenance/Backup/">Backup</a>
</li>

        
            
<li >
    <a href="../../Administration and Maintenance/Configuration/">Configuration</a>
</li>

        
            
<li >
    <a href="../../Administration and Maintenance/Persistency/">Persistency</a>
</li>

        
            
<li >
    <a href="../../Administration and Maintenance/Scalability/">Scalability</a>
</li>

        
            
<li >
    <a href="../../Administration and Maintenance/Security/">Security</a>
</li>

        
            
<li >
    <a href="../../Administration and Maintenance/Upgrading/">Upgrading</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Basics</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Basics/Data Import and Export/">Data Import and Export</a>
</li>

        
            
<li >
    <a href="../../Basics/Installation/">Installation</a>
</li>

        
            
<li >
    <a href="../../Basics/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Basics/Possible Use Cases/">Possible Use Cases</a>
</li>

        
            
<li >
    <a href="../../Basics/Query Language/">Query Language</a>
</li>

        
            
<li >
    <a href="../../Basics/Transaction Support/">Transaction Support</a>
</li>

        
            
<li >
    <a href="../../Basics/Underline Structure/">Underline Structure</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Model</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Data Model/Data Layout/">Data Layout</a>
</li>

        
            
<li >
    <a href="../../Data Model/Nested Data Structures/">Nested Data Structures</a>
</li>

        
            
<li >
    <a href="../../Data Model/Normalization or Denormalization/">Normalization or Denormalization</a>
</li>

        
            
<li >
    <a href="../../Data Model/Referential Integrity/">Referential Integrity</a>
</li>

        
            
<li >
    <a href="../../Data Model/Relational Data Support/">Relational Data Support</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Analytics Service</a>
</li>

        
            
<li >
    <a href="../Bulk Transactions Support/">Bulk Transactions Support</a>
</li>

        
            
<li >
    <a href="../Cache Service/">Cache Service</a>
</li>

        
            
<li >
    <a href="../Cart Management Service/">Cart Management Service</a>
</li>

        
            
<li >
    <a href="../Handling Relational Data/">Handling Relational Data</a>
</li>

        
            
<li >
    <a href="../Job Queue System/">Job Queue System</a>
</li>

        
            
<li >
    <a href="../Session Management Service/">Session Management Service</a>
</li>

        
            
<li >
    <a href="../Transaction Support/">Transaction Support</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Query Model</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Query Model/Aggregation/">Aggregation</a>
</li>

        
            
<li >
    <a href="../../Query Model/Filtering/">Filtering</a>
</li>

        
            
<li >
    <a href="../../Query Model/Full Text Search Support/">Full Text Search Support</a>
</li>

        
            
<li >
    <a href="../../Query Model/Indexing/">Indexing</a>
</li>

        
            
<li >
    <a href="../../Query Model/Query Options/">Query Options</a>
</li>

        
            
<li >
    <a href="../../Query Model/Regular Expressions Support/">Regular Expressions Support</a>
</li>

        
            
<li >
    <a href="../../Query Model/Sorting/">Sorting</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Results</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Results/Strengths and Weaknesses/">Strengths and Weaknesses</a>
</li>

        
            
<li >
    <a href="../../Results/Summary/">Summary</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Special Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Special Features/Expire Option/">Expire Option</a>
</li>

        
            
<li >
    <a href="../../Special Features/Pub:Sub Support/">Pub:Sub Support</a>
</li>

        
            
<li >
    <a href="../../Special Features/Redis as a Cache/">Redis as a Cache</a>
</li>

        
            
<li >
    <a href="../../Special Features/Scripting Support/">Scripting Support</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../Data Model/Relational Data Support/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Bulk Transactions Support/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>Redis is suitable to get real-time analytics since it can answer queries very fast. In a B2C application, it is possible to use Redis to answer queries such as what are the most viewed products, how many users currently logged in, what are the last viewed products, and what are the most  added to cart or deleted from cart products. Of course, we can answer such queries using any other database. However, Redis is much faster since it is in-memory database and can delete the data used for the queries automatically after sometime when it is not needed. For example, if you want to store the most viewed 100 products, you can use the sorted set to store only the 100 most viewed products as will be shown in this section. So Redis is more efficient in terms of performance and storage when it comes to analytics assuming you want to answer simple direct questions.</p>
<p>To show how to use Redis to answer analytical queries, a service has been build that will cover the below APIs:</p>
<p><img alt="image" src="https://s3.amazonaws.com/b2cbucket/analytics.png" /></p>
<p>As seen above, the service will answer the following questions:</p>
<pre><code>// queries related to the products
what are the most 10 viewed products for the current user ?
what are the most 20 viewed products in general ?
what are the most 10 recently viewed products by a user ?
what are the most 20 recently viewed products in general ?

// queries related to the cache performance
what are the most 100 requested pages that was found in the cache ?
what are the most 100 requested pages that was not found in the cache ?

// queries related to the cart
what are the most 20 products added to cart ?
what are the most 20 products removed from cart ?

// queries related to the log in
how many users are currently logged in ?
</code></pre>

<p>For the first set of queries related to the products, the below API will be called whenever a product is being viewed by a user.</p>
<pre><code>    @POST
    @Path(&quot;/item_viewed/{sku}/token/{token}&quot;)
    @Timed
    @ApiOperation(value = &quot;record that item is veiwed&quot;, notes = &quot;Returns true or false&quot;, response = Boolean.class)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;Sku or token aren't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public boolean recordItemViewed(
            @ApiParam(value = &quot;sku of viewed item&quot;, required = true) @PathParam(&quot;sku&quot;) String sku,
            @ApiParam(value = &quot;login token of the user&quot;, required = true) @PathParam(&quot;token&quot;) String token) {

        if (sku == null || token == null) {
            final String shortReason = &quot;sku or token aren't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            // set the recent products viewed by a user
            long timestamp = System.currentTimeMillis() / 1000;
            this.jedisClient.zadd(&quot;viewed:&quot; + token, timestamp, sku);
            // just keep the last 10 recently viewed item for the user
            this.jedisClient.zremrangeByRank(&quot;viewed:&quot; + token, 0, -11);
            // keep the most viewed items by user
            this.jedisClient.zincrby(&quot;MostViewed:&quot; + token, -1, sku);
            // just keep the last 10 most viewed items by the user
            this.jedisClient.zremrangeByRank(&quot;MostViewed:&quot; + token, 0, -11);
            // keep the recently viewed items by all users
            this.jedisClient.zadd(&quot;viewed:&quot;, timestamp, sku);
            // just keep the last 20 recently viewed items by all users
            this.jedisClient.zremrangeByRank(&quot;viewed:&quot;, 0, -21);
            // keep the most viewed items by all users
            this.jedisClient.zincrby(&quot;MostViewed:&quot;, -1, sku);
            // just keep the last 20 most viewed items by all users
            this.jedisClient.zremrangeByRank(&quot;MostViewed:&quot; + token, 0, -21);

            return true;
        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }

</code></pre>

<p>As can be seen above, we will use 4 sorted set to store the information we need to answer the queries. We store the information related to the most viewed items per user inside a sorted set with a key like "MostViewed: token". Similarly, we store the information for most viewed products in general using another sorted set with key like "MostViewed". In the same way, we store the recently viewed products inside two sorted sets with keys "viewed:token", and "viewed". </p>
<p>We will store the sku of the products that has been viewed with a score as a timestamp in case we want to answer the recently viewed queries. In case of the most viewed queries, we will store the sku of the products that has been viewed with a score as a number which represent how many times it has been viewed. The sorted sets will be as shown below:</p>
<p><img alt="image" src="https://s3.amazonaws.com/b2cbucket/analytics+products.png" /></p>
<p>Note that we are using the zremrangeByRank command to set a limit for the size of the sorted set so that it will keep only the top elements and won't grow forever.</p>
<p>After that we can answer the product related queries as shown below:</p>
<ul>
<li>what are the most 10 viewed products for the current user ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get10MostViewedItemsByUser/{token}&quot;)
    @Timed
    @ApiOperation(value = &quot;get the recent 10 most viewed items per user &quot;, notes = &quot;Returns array of items sku&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;token wasn't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get10MostViewedItemsByUser(
            @ApiParam(value = &quot;token of the user&quot;, required = true) @PathParam(&quot;token&quot;) String token) {

        if (token == null) {
            final String shortReason = &quot;token wasn't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            ArrayList&lt;String&gt; listOfSku = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;MostViewed:&quot; + token);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(&quot;MostViewed:&quot;
                    + token, 0, sortedSetSize - 1);

            String[] skuList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String sku : skuList) {
                listOfSku.add(sku);
            }

            return listOfSku;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<ul>
<li>what are the most 20 viewed products in general ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get20MostViewedItems&quot;)
    @Timed
    @ApiOperation(value = &quot;get the recent 20  most viewed items &quot;, notes = &quot;Returns array of items sku&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get20MostViewedItems() {

        try {

            ArrayList&lt;String&gt; listOfSku = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;MostViewed:&quot;);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(&quot;MostViewed:&quot;,
                    0, sortedSetSize - 1);

            String[] skuList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String sku : skuList) {
                listOfSku.add(sku);
            }

            return listOfSku;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }

</code></pre>

<ul>
<li>what are the most 10 recently viewed products by a user ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get10RecentViewedItemsByUser/{token}&quot;)
    @Timed
    @ApiOperation(value = &quot;get the recent 10 viewed items per user &quot;, notes = &quot;Returns array of items sku&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;token wasn't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get10RecentViewedItemsByUser(
            @ApiParam(value = &quot;token of the user&quot;, required = true) @PathParam(&quot;token&quot;) String token) {

        if (token == null) {
            final String shortReason = &quot;token wasn't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            ArrayList&lt;String&gt; listOfSku = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;viewed:&quot; + token);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(&quot;viewed:&quot;
                    + token, 0, sortedSetSize - 1);

            String[] skuList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String sku : skuList) {
                listOfSku.add(sku);
            }

            return listOfSku;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }

</code></pre>

<ul>
<li>what are the most 20 recently viewed products in general ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get20RecentViewedItems&quot;)
    @Timed
    @ApiOperation(value = &quot;get the recent 20  viewed items &quot;, notes = &quot;Returns array of items sku&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get20RecentViewedItems() {

        try {

            ArrayList&lt;String&gt; listOfSku = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;viewed:&quot;);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(&quot;viewed:&quot;, 0,
                    sortedSetSize - 1);

            String[] skuList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String sku : skuList) {
                listOfSku.add(sku);
            }

            return listOfSku;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<p>To answer the queries related to the cache performance, we would call the below API whenever a page is requested from the cache with a flag indicating whether the page was found or not in the cache.</p>
<pre><code>    @POST
    @Path(&quot;/page_requested/{url}/hit/{hit}&quot;)
    @Timed
    @ApiOperation(value = &quot;record that a page requested from cache and whether a cache miss or hit &quot;, notes = &quot;Returns true or false&quot;, response = Boolean.class)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;url or hit wasn't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public boolean recordRequestPageFromCache(
            @ApiParam(value = &quot;url of the requested page&quot;, required = true) @PathParam(&quot;url&quot;) String url,
            @ApiParam(value = &quot;page found in cache or not&quot;, required = true) @PathParam(&quot;hit&quot;) String hit) {

        if (url == null || hit == null) {
            final String shortReason = &quot;url or hit wasn't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            // keep most requested page with hit response from cache
            if (hit.equals(&quot;true&quot;)) {
                this.jedisClient.zincrby(&quot;MostHitPages:&quot;, -1, url);
            } else {
                this.jedisClient.zincrby(&quot;MostMissPages:&quot;, -1, url);
            }

            // keep the last 100 pages in both sets
            this.jedisClient.zremrangeByRank(&quot;MostHitPages:&quot;, 0, -101);
            this.jedisClient.zremrangeByRank(&quot;MostMissPages:&quot;, 0, -101);

            return true;
        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<p>Then we will answer the queries as show below:</p>
<ul>
<li>what are the most 100 requested pages that was found in the cache ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get100MostHitPagedFromCache&quot;)
    @Timed
    @ApiOperation(value = &quot;get the 100 most hit pages from cache&quot;, notes = &quot;Returns list of pages urls&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get100MostHitPagedFromCache() {

        try {

            ArrayList&lt;String&gt; listOfUrl = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;MostHitPages:&quot;);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(
                    &quot;MostHitPages:&quot;, 0, sortedSetSize - 1);

            String[] urlList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String url : urlList) {
                listOfUrl.add(url);
            }

            return listOfUrl;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<ul>
<li>what are the most 100 requested pages that was not found in the cache ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get100MostMissedPagesFromCache&quot;)
    @Timed
    @ApiOperation(value = &quot;get the 100 most missed pages from cache&quot;, notes = &quot;Returns list of pages urls&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get100MostMissedPagesFromCache() {

        try {

            ArrayList&lt;String&gt; listOfUrl = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;MostMissPages:&quot;);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(
                    &quot;MostMissPages:&quot;, 0, sortedSetSize - 1);

            String[] urlList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String url : urlList) {
                listOfUrl.add(url);
            }

            return listOfUrl;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }

</code></pre>

<p>Similarly to answer the queries related to the cart. We will need to call the below APIs whenever a product was added or deleted from the cart.</p>
<p>A product added to a cart:</p>
<pre><code>    @POST
    @Path(&quot;/added_to_cart/{sku}&quot;)
    @Timed
    @ApiOperation(value = &quot;record that item is added to cart&quot;, notes = &quot;Returns true or false&quot;, response = Boolean.class)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;Sku wasn't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public boolean recordItemAddedToCart(
            @ApiParam(value = &quot;sku of the added to cart item&quot;, required = true) @PathParam(&quot;sku&quot;) String sku) {

        if (sku == null) {
            final String shortReason = &quot;Sku wasn't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            // keep the most products that are added to cart by all users
            this.jedisClient.zincrby(&quot;AddedToCart:&quot;, -1, sku);
            // just keep the 20 most added to cart products
            this.jedisClient.zremrangeByRank(&quot;AddedToCart:&quot;, 0, -21);

            return true;
        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<p>A product is deleted from cart:</p>
<pre><code>    @POST
    @Path(&quot;/deleted_from_cart/{sku}&quot;)
    @Timed
    @ApiOperation(value = &quot;record that item is deleted from cart&quot;, notes = &quot;Returns true or false&quot;, response = Boolean.class)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;Sku wasn't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public boolean deletedItemAddedToCart(
            @ApiParam(value = &quot;sku of the deleted from cart item&quot;, required = true) @PathParam(&quot;sku&quot;) String sku) {

        if (sku == null) {
            final String shortReason = &quot;Sku wasn't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            // keep the most products that are deleted from cart by all users
            this.jedisClient.zincrby(&quot;DeletedFromCart:&quot;, -1, sku);
            // just keep the 20 most deleted from cart products
            this.jedisClient.zremrangeByRank(&quot;DeletedFromCart:&quot;, 0, -21);

            return true;
        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }

</code></pre>

<p>Then we can answer the below queries easily as shown below:</p>
<ul>
<li>what are the most 20 products added to cart ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get20MostAddedToCartItems&quot;)
    @Timed
    @ApiOperation(value = &quot;get the 20  most added to cart items &quot;, notes = &quot;Returns array of items sku&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get20MostAddedToCartItems() {

        try {

            ArrayList&lt;String&gt; listOfSku = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;AddedToCart:&quot;);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(
                    &quot;AddedToCart:&quot;, 0, sortedSetSize - 1);

            String[] skuList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String sku : skuList) {
                listOfSku.add(sku);
            }

            return listOfSku;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<ul>
<li>what are the most 20 products removed from cart ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/get20MostDeletedFromCartItems&quot;)
    @Timed
    @ApiOperation(value = &quot;get the 20  most deleted from cart items &quot;, notes = &quot;Returns array of items sku&quot;, response = String.class, responseContainer = &quot;list&quot;)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public ArrayList&lt;String&gt; get20MostDeletedFromCartItems() {

        try {

            ArrayList&lt;String&gt; listOfSku = new ArrayList&lt;String&gt;();

            long sortedSetSize = this.jedisClient.zcard(&quot;DeletedFromCart:&quot;);
            Set&lt;String&gt; allRecentItems = this.jedisClient.zrange(
                    &quot;DeletedFromCart:&quot;, 0, sortedSetSize - 1);

            String[] skuList = allRecentItems.toArray(new String[allRecentItems
                    .size()]);
            for (String sku : skuList) {
                listOfSku.add(sku);
            }

            return listOfSku;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<p>Finally to answer queries related to log in, the below API needs to be called whenever a user logs in :</p>
<pre><code>    @POST
    @Path(&quot;/logged_user/{token}&quot;)
    @Timed
    @ApiOperation(value = &quot;record that a user has been logged in&quot;, notes = &quot;Returns true or false&quot;, response = Boolean.class)
    @ApiResponses(value = {
            @ApiResponse(code = 400, message = &quot;token wasn't given!&quot;),
            @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public boolean recordUserLoggedIn(
            @ApiParam(value = &quot;token of the logged in user&quot;, required = true) @PathParam(&quot;token&quot;) String token) {

        if (token == null) {
            final String shortReason = &quot;token wasn't given!&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.BAD_REQUEST);
        }

        try {

            // keep all logged in users during a day
            long timestamp = System.currentTimeMillis() / 1000;
            this.jedisClient.zincrby(&quot;login:&quot;, timestamp, token);

            // we don't want this set to grow for ever , so we record the top
            // 200000 recent logged in users (based on your website)
            this.jedisClient.zremrangeByRank(&quot;login:&quot;, 0, -200001);

            return true;
        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre>

<p>Then we can easily answer the below query:</p>
<ul>
<li>how many users are currently logged in since last one hour ?</li>
</ul>
<pre><code>    @GET
    @Path(&quot;/getCountLoggedInUserWithinLastHour&quot;)
    @Timed
    @ApiOperation(value = &quot;get the count of logged in users within last hour&quot;, notes = &quot;Returns integer count&quot;, response = Integer.class)
    @ApiResponses(value = { @ApiResponse(code = 500, message = &quot;Coudln't access Redis&quot;) })
    public long getCountLoggedInUserWithinLastHour() {

        try {

            long count = 0;

            long currentTimeStamp = System.currentTimeMillis() / 1000;

            long lastHourTimeStamp = currentTimeStamp - 3600;

            count = this.jedisClient.zcount(&quot;login:&quot;, lastHourTimeStamp,
                    currentTimeStamp);

            return count;

        } catch (Exception e) {
            LOGGER.log(Level.SEVERE,
                    &quot;Coudln't access Redis&quot; + e.getLocalizedMessage());
            final String shortReason = &quot;Coudln't access Redis&quot;;
            Exception cause = new IllegalArgumentException(shortReason);
            throw new WebApplicationException(cause,
                    javax.ws.rs.core.Response.Status.INTERNAL_SERVER_ERROR);
        }
    }
</code></pre></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
